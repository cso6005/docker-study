
# 1. 도커

컨테이너를 생성하고 관리하기 위한 기술

# 2. 컨테이너

표준화된 소프트웨어 유닛.

기본적으로 코드 패키지이며, 해당 코드를 실행하는데 필요한 종속성과 도구가 포함되어있다.

예를 들어, NodeJS 애플리케이션을 구축하는 경우, NodeJS 는 JavaScript코드를 실행하는데 사용하는 JavaScript 런타임이다.

도커로 빌드된 컨테이너가 있는 이러한 애플리케이션이 있는 경우, 그 컨테이너에는 애플리케이션 소스 코드 뿐만 아니라, NodeJS 런타임 그리고 코드를 실행하는데 필요한 기타 도구가 들어 있다.

동일한 NodeJS코드와 동일한 NodeJS도구를 사용하는 동일한 컨테이너는 **항상 동일한 버전**을 사용하고 **동일한 NodeJS 런타임**가지고 **항상 동일한 동작과 결과를 제공**한다는 이점이 있다.

우리는 software unit, 코드가 포함된 패키지 및 코드를 실행하는 dependencies를 보관할 수 있으며, 도커가 실행되는 모든 곳에서 이를 가져올 수 있다. 

그러면 동일한 환경에서 정확히 동일한 애플리케이션을 실행할 수 있다. 

모든 것이 컨테이너에 있기 때문에 애플리케이션을 실행하려는 위치에 추가 도구를 설치하는 것에 대해 걱정할 필요가 없다.

그리고 **도커는 결국 이러한 컨테이너의 생성, 구축 및 관리 프로세스를 단순화하는 도구**이다. 도커를 통해 컨테이너의 생성과 구축을 쉽게 할 수 있다.

또한, 컨테이너 지원이 최신 운영 체제에 내장되어 있다. 그래서 도커를 모든 최신 운영 체제에 설치하여 작업할 수 있다. 

# 3. 왜 도커와 컨테이너인가?

**왜 소프트웨어 개발에서 ‘독립적인’ ‘표준화된’ “applicaition packages”를 원할까?**

### 문제

1. **Different Development & Production Environments**

NodeJS 애플리케이션을 생성했다고 가정해보자. 그리고 거기에 NodeJS 버전 14.3 이상에서 성공적으로 실행하는 몇 가지 코드를 작성했다. 문제는 그 버전이 로컬환경, 개발환경, 로컬 머신에만 설치되어 있을 수 있다. 

하지만 이 응용 프로그램을 가져와서 호스트되어야 하는 서버의 일부 원격 시스템에 배포하여 전 세계가 연결할 수 있도록 하는 경우, 해당 원격 시스템에는 14.3이 아닌, 이전 버전의 NodeJS가 있을 수 있다.

그렇다면 우리 컴퓨터에서 development 환경에서 작동하던 코드가 갑자기 production 환경에서는 작동하지 않을 것이고, 문제가 무엇인지 파악하는데 상당한 시간이 걸릴 수 있다.

우리의 개발에 필요한 런타임, 프레임워크, 코드 패키지들을 환경으로 볼때, development 환경과 production 환경이 종종 다를 수 있다.

따라서 즉 우리가 제품 생산 환경과 정확히 똑같은 개발 환경을 갖는 것은 상당한 가치가 있다. 이것이 도커와 컨테이너가 도움이 되는 부분이다. 

**특정 노드 버전을 도커 컨테이너에 고정(lock)할 수 있으므로 코드가 항상 정확한 버전**으로 실행되도록 할 수 있다. 

애플리케이션이 자체적으로 필요한 노드 버전을 제공하는 컨테이너에서 실행하기 때문에 더 이상 이러한 문제를 생각하지 않아도 된다.

1. **Different Development Environments Within a Team / Company**

우리가 큰 팀에 속해 있을 때, 우리는 동일한 프로젝트 예를 들어 동일한 노드 애플리케이션을 작업하고 있다.

내가 한동안 노드로 작업하지 않았거나 업데이트할 필요가 없었기에 시스템에 여전히 이전 버전의 노드가 설치되어 있다고 하자. 근데 타 팀원은 최신 버전을 가지고 최신에서만 가능한 코드를 작성하였다. 이때 타 팀원이 코드를 공유해서 받았을 때 나의 환경에서는 작동하지 않을 것이다. 우리가 같은 코드 기반에서 함께 작업할 수 없다는 것은 개발을 힘들게 하고 항상 작동할 것이라는 보장도 없게 되는 것이다.

소프트웨어 개발에서는 이러한 **재현성**을 원하므로  **현재 배포하지 않는 경우에도 컨테이너에 코드가 필요로 하는 모든 것을 포함하여, 누구든 항상 같은 환경에서 개발하는 것을 보장할 수 있게 된다.**

1. **Clashing Tools / Versions Detween Different Projects**

작업 중인 프로젝트가 여러 개이며, 이들 끼리의 버전이 다를 때 충돌할 것이다. 어떤 프로젝트에서는 이전, 어떤 프로젝트에서 최신을 사용할 때 프로젝트 a에서 프로젝트 b로 전환할 때마다 잘못된 버전을 제거하고 올바른 버전을 설치해야 한다.

도커와 컨테이너가 이러한 부분을 도와준다. **우리는 각 버전을 컨테이너에 보유하고 각각 프로젝트에는 그들만의 컨테이너가 존재**하도록 한다. 따라서 프로젝트를 전환하면 그대로 작동하는 것. 

**호스트 컴퓨터가 아닌 컨테이너**에 있기 때문에 매번 제거하고 다시 설치할 필요가 없다. 다른 컨테이너로 시작하는 것으로 프로젝트 전환이 가능한 것이다.

## 장점

1. dev환경과 prod환경이 동일한 환경임을 보장할 수 있다.
2. 타인과 함께 개발할 시, 모든 개발자들이 동일한 작업 환경에서 개발함을 보장할 수 있다.
3. 로컬 개발에서 버전이 다른 프로젝트가 존재할 시, 버전이 충돌하는 문제가 있는데, 컨테이너는 이러한 문제가 발생하지 않으며, 버전 문제로 삭제 및 재설치 할 필요가 없다.