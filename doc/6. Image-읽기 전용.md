
우리는 이미지와 컨테이너 동작을 완벽히 이해할 수 있어야 한다. 그 중에서 우린 이미지가 읽기 전용이라는 것 알아야 한다.

### Image 동작 : 읽기 전용

예를 들어,

HTML 코드를 수정하여, 실행중인 애플리케이션에 반영한다고 하자. 또는 어떠한 파일을 삭제한다고도 가정해보자.

이때,  docker run 명령어를 통해 컨테이너를 다시 시작해 수정 사항이 반영되지 않는다.

우리는 Dockerfile 명령을 통해 소스 코드를  app 에 복사하도록 지시했다.

소스 코드를 이미지에 복사하고 **기본적으로 복사한 시점에서 소스 코드의 스냅샷을 만든다.**

그러므로, 단순히 소스 코드를 변경한다고 해당 변경 사항이 이미지의 소스 코드에 포함되는 것이 아니다.

⇒ 업데이트된 소스 코드를 새 이미지로 복사하려면

**이미지를 다시 빌드해야 한다. 즉, 새로운 이미지를 빌드하는 것이다.**

이는 이전과 거의 동일한 환경일 테지만, 기술적으로 다른 것으로 말해야 한다. 내부에 완전히 다른 코드이기 때문이다.

### 정리

이미지의 모든 것이 읽기 전용이며, 과거에 해당 코드를 복사했기에 단순히 코드를 업데이트하는 것으로 이미지를 변경할 수 없다. 즉, 단순히 작업 디렉토리 소스 코드를 변경하거나 어떤 파일을 삭제하더라도 이미지에는 전혀 영향을 끼치지 않는 것이다.

이미지는 기본적으로 잠겨 있고, 일단 빌드되면 끝인 것이다.

결론적으로 이미지가 결국 닫힌 템플릿이라는 것을 이해하는 것이 매우 중요하다.

Dockerfile 명령은 이미지를 생성하기 위해 실행되고, 그 후에는잠겨서 완료된다.